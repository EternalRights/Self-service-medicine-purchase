import{_ as y,c as k,a as h,b as x,d as a,w as n,e as b,r,u as B,f as T,g as C,h as S,o as A,i as g}from"./index-ukrIOK15.js";import{u as N,m as w,a as L,r as V}from"./index-DMOBhCJn.js";const R={setup(){const l=S(),o=B(),s=T({username:"",password:""}),e={username:{required:V,minLength:L(3),maxLength:w(20)},password:{required:V,minLength:L(6),maxLength:w(20)}},d=N(e,s),t=C(!1);return{form:s,v$:d,loading:t,handleLogin:async()=>{if(await d.value.$validate()){t.value=!0;try{await o.userLogin({username:s.username,password:s.password})}catch{}finally{t.value=!1}}},goToRegister:()=>{l.push("/auth/register")},goToAdminLogin:()=>{l.push("/auth/admin-login")}}}},$={class:"login-container"},U={class:"login-card"},q={class:"login-footer"};function E(l,o,s,e,d,t){const m=r("el-input"),i=r("el-form-item"),p=r("el-button"),u=r("el-link"),f=r("el-form");return A(),k("div",$,[h("div",U,[o[5]||(o[5]=x('<div class="login-header" data-v-7c377220><div class="brand" data-v-7c377220><div class="logo" data-v-7c377220><i class="el-icon-first-aid-kit" data-v-7c377220></i></div><h1 data-v-7c377220>欢迎使用医药自助购</h1></div><p class="subtitle" data-v-7c377220>安全、便捷的24小时自助购药服务</p></div>',1)),a(f,{class:"login-form",onSubmit:b(e.handleLogin,["prevent"])},{default:n(()=>{var v,_;return[a(i,{error:(v=e.v$.username.$errors[0])==null?void 0:v.$message},{default:n(()=>[a(m,{modelValue:e.form.username,"onUpdate:modelValue":o[0]||(o[0]=c=>e.form.username=c),placeholder:"用户名/手机号","prefix-icon":"User",onBlur:e.v$.username.$touch},null,8,["modelValue","onBlur"])]),_:1},8,["error"]),a(i,{error:(_=e.v$.password.$errors[0])==null?void 0:_.$message},{default:n(()=>[a(m,{modelValue:e.form.password,"onUpdate:modelValue":o[1]||(o[1]=c=>e.form.password=c),type:"password",placeholder:"密码","prefix-icon":"Lock","show-password":"",onBlur:e.v$.password.$touch},null,8,["modelValue","onBlur"])]),_:1},8,["error"]),a(i,null,{default:n(()=>[a(p,{type:"primary",class:"login-btn",loading:e.loading,"native-type":"submit"},{default:n(()=>[...o[2]||(o[2]=[g(" 登录 ",-1)])]),_:1},8,["loading"])]),_:1}),h("div",q,[a(u,{type:"primary",onClick:e.goToRegister},{default:n(()=>[...o[3]||(o[3]=[g("注册新账户",-1)])]),_:1},8,["onClick"]),a(u,{type:"primary",onClick:e.goToAdminLogin},{default:n(()=>[...o[4]||(o[4]=[g("管理员登录",-1)])]),_:1},8,["onClick"])])]}),_:1},8,["onSubmit"])])])}const j=y(R,[["render",E],["__scopeId","data-v-7c377220"]]);export{j as default};
