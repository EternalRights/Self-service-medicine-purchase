import{_ as K,u as O,z as T,g as F,p as _,A as L,l as P,B as R,c as g,a as t,C as q,d as o,q as n,w as s,D as E,r as a,F as G,b as M,h as j,o as w,i,G as S,H as J,I as Q}from"./index-2sORtH0Y.js";import{u as W}from"./cart-BuHvw377.js";import{u as Y}from"./drug-BIpiyj54.js";import{m as Z,c as $}from"./notification-CM3_SFil.js";const ee={class:"user-layout"},oe={class:"header"},te={class:"brand"},se={class:"logo"},ae=["src"],ne={class:"search-bar"},re={class:"user-actions"},le=["src"],de={class:"user-info"},ce={class:"username"},ie={class:"main-content"},ue={key:0,class:"footer"},me={__name:"UserLayout",setup(_e){const p=j(),u=L(),f=O(),l=T(),c=W(),y=Y(),d=F(""),C=_(()=>f.userName||"用户"),v=_(()=>c.totalItems||0),X=_(()=>u.name==="UserHome"||u.name==="Profile"),h=()=>{d.value.trim()&&y.searchDrugs(d.value)},k=()=>{l.isOpen&&p.push({name:"Cart"})},x=r=>{switch(r){case"profile":p.push({name:"Profile"});break;case"orders":console.log("跳转到我的订单");break;case"logout":f.logout();break}};return P(()=>u.name,r=>{r!=="UserHome"&&(d.value="",selectedCategory.value=null)}),R(async()=>{try{c&&typeof c.loadCart=="function"&&await c.loadCart()}catch(r){console.error("加载购物车数据失败:",r)}}),(r,e)=>{const V=a("el-tag"),N=a("el-icon"),b=a("el-button"),U=a("el-input"),B=a("el-badge"),D=a("el-avatar"),m=a("el-dropdown-item"),I=a("el-dropdown-menu"),z=a("el-dropdown"),A=a("router-view");return w(),g("div",ee,[t("header",oe,[t("div",te,[t("div",se,[t("img",{src:n(Z),alt:"医药自助购",class:"logo-img"},null,8,ae),e[1]||(e[1]=t("span",{class:"app-name"},"医药自助购",-1))]),o(V,{style:E(n(l).businessStatusStyle),class:"business-status"},{default:s(()=>[i(S(n(l).businessStatusText),1)]),_:1},8,["style"])]),t("div",ne,[o(U,{placeholder:"请输入药品名称或症状",modelValue:d.value,"onUpdate:modelValue":e[0]||(e[0]=H=>d.value=H),onKeyup:G(h,["enter"]),clearable:""},{append:s(()=>[o(b,{onClick:h},{default:s(()=>[o(N,null,{default:s(()=>[o(n(J))]),_:1})]),_:1})]),_:1},8,["modelValue"])]),t("div",re,[o(B,{value:v.value,max:99,class:"cart-icon",hidden:v.value===0},{default:s(()=>[o(b,{icon:"ShoppingCart",circle:"",onClick:k,disabled:!n(l).isOpen,title:n(l).isOpen?"查看购物车":"暂停营业中"},null,8,["disabled","title"]),t("img",{src:n($),alt:"购物车",class:"cart-icon-img"},null,8,le),e[2]||(e[2]=t("span",null,"购物车",-1))]),_:1},8,["value","hidden"]),o(z,{trigger:"click",onCommand:x},{dropdown:s(()=>[o(I,null,{default:s(()=>[o(m,{command:"profile",icon:"User"},{default:s(()=>[...e[3]||(e[3]=[i("个人中心",-1)])]),_:1}),o(m,{command:"orders",icon:"Document"},{default:s(()=>[...e[4]||(e[4]=[i("我的订单",-1)])]),_:1}),o(m,{divided:"",command:"logout",icon:"SwitchButton"},{default:s(()=>[...e[5]||(e[5]=[i("退出登录",-1)])]),_:1})]),_:1})]),default:s(()=>[t("span",de,[o(D,{icon:n(Q),size:"small"},null,8,["icon"]),t("span",ce,S(C.value),1)])]),_:1})])]),t("main",ie,[o(A)]),X.value?(w(),g("footer",ue,[...e[6]||(e[6]=[M('<div class="footer-content" data-v-46d56eb8><div class="footer-links" data-v-46d56eb8><a href="#" data-v-46d56eb8>关于我们</a><a href="#" data-v-46d56eb8>隐私政策</a><a href="#" data-v-46d56eb8>用户协议</a><a href="#" data-v-46d56eb8>帮助中心</a></div><div class="footer-info" data-v-46d56eb8><p data-v-46d56eb8>《药品网络销售许可证》编号：XXXXXX</p><p data-v-46d56eb8>互联网药品信息服务资格证书：XXXXXX</p><p data-v-46d56eb8>© 2025 医药自助购 版权所有</p></div></div>',1)])])):q("",!0)])}}},be=K(me,[["__scopeId","data-v-46d56eb8"]]);export{be as default};
