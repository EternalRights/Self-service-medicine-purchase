import{_ as y,c as k,a as V,b as $,d as r,w as a,e as P,r as d,u as R,f as S,g as U,h as C,E as x,o as N,i as L}from"./index-BhJGqM05.js";import{u as T,m as g,a as h,r as c,s as A}from"./index-DADFXqfZ.js";const E={setup(){const u=C(),o=R(),n=S({phone:"",password:"",confirmPassword:"",name:""}),e={phone:{required:c,minLength:h(11),maxLength:g(11)},password:{required:c,minLength:h(6),maxLength:g(20)},confirmPassword:{required:c,sameAs:A(m=>m.password)},name:{required:c,minLength:h(2),maxLength:g(20)}},f=T(e,n),i=U(!1);return{form:n,v$:f,loading:i,handleRegister:async()=>{if(await f.value.$validate()){i.value=!0;try{await o.userRegister({phone:n.phone,name:n.name,password:n.password}),x.success("注册成功，请登录"),u.push("/auth/login")}catch(p){x.error("注册失败: "+(p.message||"请稍后再试"))}finally{i.value=!1}}},goToLogin:()=>{u.push("/auth/login")}}}},I={class:"register-container"},M={class:"register-card"},q={class:"register-footer"};function j(u,o,n,e,f,i){const l=d("el-input"),t=d("el-form-item"),m=d("el-button"),p=d("el-link"),B=d("el-form");return N(),k("div",I,[V("div",M,[o[6]||(o[6]=$('<div class="register-header" data-v-83bdba2c><div class="brand" data-v-83bdba2c><div class="logo" data-v-83bdba2c><i class="el-icon-first-aid-kit" data-v-83bdba2c></i></div><h1 data-v-83bdba2c>注册新账户</h1></div><p class="subtitle" data-v-83bdba2c>加入医药自助购，享受便捷购药服务</p></div>',1)),r(B,{class:"register-form",onSubmit:P(e.handleRegister,["prevent"])},{default:a(()=>{var v,_,w,b;return[r(t,{error:(v=e.v$.phone.$errors[0])==null?void 0:v.$message},{default:a(()=>[r(l,{modelValue:e.form.phone,"onUpdate:modelValue":o[0]||(o[0]=s=>e.form.phone=s),placeholder:"请输入您的手机号","prefix-icon":"Iphone",onBlur:e.v$.phone.$touch},null,8,["modelValue","onBlur"])]),_:1},8,["error"]),r(t,{error:(_=e.v$.password.$errors[0])==null?void 0:_.$message},{default:a(()=>[r(l,{modelValue:e.form.password,"onUpdate:modelValue":o[1]||(o[1]=s=>e.form.password=s),type:"password",placeholder:"请设置登录密码（6-20位字符）","prefix-icon":"Lock","show-password":"",onBlur:e.v$.password.$touch},null,8,["modelValue","onBlur"])]),_:1},8,["error"]),r(t,{error:(w=e.v$.confirmPassword.$errors[0])==null?void 0:w.$message},{default:a(()=>[r(l,{modelValue:e.form.confirmPassword,"onUpdate:modelValue":o[2]||(o[2]=s=>e.form.confirmPassword=s),type:"password",placeholder:"请确认密码","prefix-icon":"Lock","show-password":"",onBlur:e.v$.confirmPassword.$touch},null,8,["modelValue","onBlur"])]),_:1},8,["error"]),r(t,{error:(b=e.v$.name.$errors[0])==null?void 0:b.$message},{default:a(()=>[r(l,{modelValue:e.form.name,"onUpdate:modelValue":o[3]||(o[3]=s=>e.form.name=s),placeholder:"请输入您的用户名","prefix-icon":"User",onBlur:e.v$.name.$touch},null,8,["modelValue","onBlur"])]),_:1},8,["error"]),r(t,null,{default:a(()=>[r(m,{type:"primary",class:"register-btn",loading:e.loading,"native-type":"submit"},{default:a(()=>[...o[4]||(o[4]=[L(" 注册新账户 ",-1)])]),_:1},8,["loading"])]),_:1}),V("div",q,[r(p,{type:"primary",onClick:e.goToLogin},{default:a(()=>[...o[5]||(o[5]=[L("已有账户？去登录",-1)])]),_:1},8,["onClick"])])]}),_:1},8,["onSubmit"])])])}const F=y(E,[["render",j],["__scopeId","data-v-83bdba2c"]]);export{F as default};
