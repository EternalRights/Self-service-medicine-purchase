import{_ as y,c as b,a as x,b as k,d as r,w as a,e as $,r as i,u as P,f as R,g as S,h as U,E as C,o as N,i as L}from"./index-9D8OPAh3.js";import{u as T,m as p,a as g,r as c,s as A}from"./index-DXFpyDO3.js";const E={setup(){const v=U(),o=P(),n=R({phone:"",password:"",confirmPassword:"",name:""}),e={phone:{required:c,minLength:g(11),maxLength:p(11)},password:{required:c,minLength:g(6),maxLength:p(20)},confirmPassword:{required:c,sameAs:A(m=>m.password)},name:{required:c,minLength:g(2),maxLength:p(20)}},u=T(e,n),d=S(!1);return{form:n,v$:u,loading:d,handleRegister:async()=>{if(await u.value.$validate()){d.value=!0;try{await o.userRegister({phone:n.phone,name:n.name,password:n.password})}catch(f){C.error("注册失败: "+(f.message||"请稍后再试"))}finally{d.value=!1}}},goToLogin:()=>{v.push("/auth/login")}}}},I={class:"register-container"},M={class:"register-card"},q={class:"register-footer"};function j(v,o,n,e,u,d){const l=i("el-input"),t=i("el-form-item"),m=i("el-button"),f=i("el-link"),B=i("el-form");return N(),b("div",I,[x("div",M,[o[6]||(o[6]=k('<div class="register-header" data-v-14532c50><div class="brand" data-v-14532c50><div class="logo" data-v-14532c50><i class="el-icon-first-aid-kit" data-v-14532c50></i></div><h1 data-v-14532c50>注册新账户</h1></div><p class="subtitle" data-v-14532c50>加入医药自助购，享受便捷购药服务</p></div>',1)),r(B,{class:"register-form",onSubmit:$(e.handleRegister,["prevent"])},{default:a(()=>{var h,_,w,V;return[r(t,{error:(h=e.v$.phone.$errors[0])==null?void 0:h.$message},{default:a(()=>[r(l,{modelValue:e.form.phone,"onUpdate:modelValue":o[0]||(o[0]=s=>e.form.phone=s),placeholder:"请输入您的手机号","prefix-icon":"Iphone",onBlur:e.v$.phone.$touch},null,8,["modelValue","onBlur"])]),_:1},8,["error"]),r(t,{error:(_=e.v$.password.$errors[0])==null?void 0:_.$message},{default:a(()=>[r(l,{modelValue:e.form.password,"onUpdate:modelValue":o[1]||(o[1]=s=>e.form.password=s),type:"password",placeholder:"请设置登录密码（6-20位字符）","prefix-icon":"Lock","show-password":"",onBlur:e.v$.password.$touch},null,8,["modelValue","onBlur"])]),_:1},8,["error"]),r(t,{error:(w=e.v$.confirmPassword.$errors[0])==null?void 0:w.$message},{default:a(()=>[r(l,{modelValue:e.form.confirmPassword,"onUpdate:modelValue":o[2]||(o[2]=s=>e.form.confirmPassword=s),type:"password",placeholder:"请确认密码","prefix-icon":"Lock","show-password":"",onBlur:e.v$.confirmPassword.$touch},null,8,["modelValue","onBlur"])]),_:1},8,["error"]),r(t,{error:(V=e.v$.name.$errors[0])==null?void 0:V.$message},{default:a(()=>[r(l,{modelValue:e.form.name,"onUpdate:modelValue":o[3]||(o[3]=s=>e.form.name=s),placeholder:"请输入您的用户名","prefix-icon":"User",onBlur:e.v$.name.$touch},null,8,["modelValue","onBlur"])]),_:1},8,["error"]),r(t,null,{default:a(()=>[r(m,{type:"primary",class:"register-btn",loading:e.loading,"native-type":"submit"},{default:a(()=>[...o[4]||(o[4]=[L(" 注册新账户 ",-1)])]),_:1},8,["loading"])]),_:1}),x("div",q,[r(f,{type:"primary",onClick:e.goToLogin},{default:a(()=>[...o[5]||(o[5]=[L("已有账户？去登录",-1)])]),_:1},8,["onClick"])])]}),_:1},8,["onSubmit"])])])}const F=y(E,[["render",j],["__scopeId","data-v-14532c50"]]);export{F as default};
