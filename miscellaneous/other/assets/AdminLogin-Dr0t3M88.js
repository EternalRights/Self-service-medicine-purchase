import{_ as V,c as L,a as b,b as x,d as e,w as s,e as y,r as d,u as B,f as $,g as A,E as v,h as S,o as k,i as N}from"./index-D8Pz7pGe.js";import{u as E,m as g,a as _,r as h}from"./index-B2K1ybg4.js";const U={setup(){const u=S(),a=B(),n=$({account:"",password:""}),o={account:{required:h,minLength:_(3),maxLength:g(20)},password:{required:h,minLength:_(6),maxLength:g(20)}},i=E(o,n),t=A(!1);return{form:n,v$:i,loading:t,handleAdminLogin:async()=>{if(await i.value.$validate()){t.value=!0;try{await a.adminLogin({account:n.account,password:n.password}),v.success("管理员登录成功"),u.push("/admin/dashboard")}catch(c){v.error("登录失败: "+(c.message||"账号或密码错误"))}finally{t.value=!1}}}}}},C={class:"admin-login-container"},M={class:"admin-login-card"};function q(u,a,n,o,i,t){const l=d("el-input"),r=d("el-form-item"),c=d("el-button"),w=d("el-form");return k(),L("div",C,[b("div",M,[a[3]||(a[3]=x('<div class="admin-login-header" data-v-1542d435><div class="brand" data-v-1542d435><div class="logo" data-v-1542d435><i class="el-icon-first-aid-kit" data-v-1542d435></i></div><h1 data-v-1542d435>欢迎使用医药自助购 - 管理平台</h1></div><p class="subtitle" data-v-1542d435>安全、专业的药店智能管理系统</p></div>',1)),e(w,{class:"admin-login-form",onSubmit:y(o.handleAdminLogin,["prevent"])},{default:s(()=>{var f,p;return[e(r,{error:(f=o.v$.account.$errors[0])==null?void 0:f.$message},{default:s(()=>[e(l,{modelValue:o.form.account,"onUpdate:modelValue":a[0]||(a[0]=m=>o.form.account=m),placeholder:"请输入管理员账号","prefix-icon":"User",onBlur:o.v$.account.$touch},null,8,["modelValue","onBlur"])]),_:1},8,["error"]),e(r,{error:(p=o.v$.password.$errors[0])==null?void 0:p.$message},{default:s(()=>[e(l,{modelValue:o.form.password,"onUpdate:modelValue":a[1]||(a[1]=m=>o.form.password=m),type:"password",placeholder:"请输入登录密码","prefix-icon":"Lock","show-password":"",onBlur:o.v$.password.$touch},null,8,["modelValue","onBlur"])]),_:1},8,["error"]),e(r,null,{default:s(()=>[e(c,{type:"primary",class:"admin-login-btn",loading:o.loading,"native-type":"submit"},{default:s(()=>[...a[2]||(a[2]=[N(" 登录 ",-1)])]),_:1},8,["loading"])]),_:1})]}),_:1},8,["onSubmit"])])])}const T=V(U,[["render",q],["__scopeId","data-v-1542d435"]]);export{T as default};
